{"ast":null,"code":"import mongoose from 'mongoose';\nconst roomSchema = new mongoose.Schema({\n  roomname: {\n    type: String,\n    required: true,\n    trim: true\n  },\n  owner: {\n    type: String,\n    required: true,\n    trim: true\n  },\n  participants: [{\n    username: {\n      type: String,\n      required: true\n    },\n    created: {\n      type: Date,\n      default: Date.now\n    },\n    updated: {\n      type: Date,\n      default: Date.now\n    }\n  }],\n  messages: [{\n    username: {\n      type: String,\n      required: true\n    },\n    message: {\n      type: String,\n      required: true\n    },\n    created: {\n      type: Date,\n      default: Date.now\n    }\n  }]\n}, {\n  timestamps: true\n}); // if (!modelAlreadyDeclared()) {\n//   const Room = mongoose.model<IRoom>('Room', roomSchema);\n//   // export default Room;\n// }\n// function modelAlreadyDeclared() {\n//   try {\n//     mongoose.model('Room'); // it throws an error if the model is still not defined\n//     return true;\n//   } catch (e) {\n//     return false;\n//   }\n// }\n\nconst Room = mongoose.models.Room || mongoose.model('Room', roomSchema);\nexport default Room;","map":null,"metadata":{},"sourceType":"module"}