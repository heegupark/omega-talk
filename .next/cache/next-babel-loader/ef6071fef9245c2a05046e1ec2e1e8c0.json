{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nexport default function RoomChatMain(props) {\n  let yesterday = null;\n  const roomchatRef = React.useRef(null);\n  const monthNames = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n\n  const convertToDay = dateAt => {\n    const today = new Date();\n    const year = new Date(dateAt).getFullYear();\n    const month = new Date(dateAt).getMonth();\n    const monthName = monthNames[new Date(dateAt).getMonth()];\n    const day = new Date(dateAt).getDay();\n    let date = `${monthName} ${day}, ${year}`;\n    console.log(date);\n    return date;\n  };\n\n  const convertToHour = dateAt => {\n    const date = new Date(dateAt).toLocaleTimeString(navigator.language, {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n    return date;\n  };\n\n  useEffect(() => {\n    if (roomchatRef.current) {\n      roomchatRef.current.scrollIntoView({\n        block: 'end',\n        behavior: 'auto'\n      });\n    }\n  }, [props.messages]);\n  return __jsx(\"div\", {\n    className: \"room-chat-main-box\",\n    style: {\n      height: `${props.roommainHeight - 100}px`\n    }\n  }, props.messages.map(message => {\n    const isMe = message.username === props.username;\n    const isJoined = message.message === props.roomId;\n    const day = new Date(message.created).getDay();\n    const isDayChanged = day !== yesterday;\n    yesterday = day;\n    return __jsx(\"div\", {\n      key: message._id\n    }, isDayChanged && __jsx(\"div\", {\n      className: \"date-change\"\n    }, `${convertToDay(message.created)}`), isJoined ? __jsx(\"div\", {\n      className: \"user-join-room\"\n    }, `${message.username} joined`) : isMe ? __jsx(\"div\", {\n      className: \"message-row-me\"\n    }, __jsx(\"div\", {\n      className: \"message-content-me\"\n    }, message.message), __jsx(\"div\", {\n      className: \"message-date-me\"\n    }, convertToHour(message.created))) : __jsx(\"div\", {\n      className: \"message-row-other\"\n    }, __jsx(\"div\", {\n      className: \"chat-profile-other\"\n    }, __jsx(\"i\", {\n      className: \"far fa-user\"\n    })), __jsx(\"div\", {\n      className: \"message-other-first-row\"\n    }, __jsx(\"div\", {\n      className: \"message-username-other\"\n    }, message.username), __jsx(\"div\", {\n      className: \"message-other-second-row\"\n    }, __jsx(\"div\", {\n      className: \"message-content-other\"\n    }, message.message), __jsx(\"div\", {\n      className: \"message-date-other\"\n    }, convertToHour(message.created))))));\n  }), __jsx(\"div\", {\n    ref: roomchatRef\n  }));\n}","map":null,"metadata":{},"sourceType":"module"}