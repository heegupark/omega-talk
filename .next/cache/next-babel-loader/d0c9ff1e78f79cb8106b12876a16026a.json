{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useEffect } from 'react';\nexport default function RoomChatMain(props) {\n  var yesterday = null;\n  var roomchatRef = React.useRef(null);\n\n  var convertToDay = function convertToDay(dateAt) {\n    var thisDate = new Date(dateAt);\n    var year = thisDate.toString().split(' ')[3];\n    var month = thisDate.toString().split(' ')[1];\n    var day = thisDate.toString().split(' ')[2];\n    var date = \"\".concat(month, \" \").concat(day, \", \").concat(year);\n    return date;\n  };\n\n  var convertToHour = function convertToHour(dateAt) {\n    var date = new Date(dateAt).toLocaleTimeString(navigator.language, {\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n    return date;\n  };\n\n  useEffect(function () {\n    if (roomchatRef.current) {\n      roomchatRef.current.scrollIntoView({\n        block: 'end',\n        behavior: 'auto'\n      });\n    }\n  }, [props.messages]);\n  return __jsx(\"div\", {\n    className: \"room-chat-main-box\" // style={{\n    //   height: props.isMobile\n    //     ? `${props.roommainHeight - 75}px`\n    //     : `${props.roommainHeight - 100}px`,\n    // }}\n    ,\n    style: {\n      height: 'calc(100%-80px)'\n    }\n  }, props.messages.map(function (message) {\n    var isMe = message.username === props.username;\n    var isJoined = message.message === props.roomId;\n    var day = new Date(message.created).getDay();\n    var isDayChanged = day !== yesterday;\n    yesterday = day;\n    return __jsx(\"div\", {\n      key: message._id\n    }, isDayChanged && __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: \"line\"\n    }), __jsx(\"div\", {\n      className: \"date-change\"\n    }, \"\".concat(convertToDay(message.created)))), isJoined ? __jsx(\"div\", {\n      className: \"user-join-room\"\n    }, \"\".concat(message.username, \" joined\")) : isMe ? __jsx(\"div\", {\n      className: \"message-row-me\"\n    }, __jsx(\"div\", {\n      className: \"message-content-me\"\n    }, message.message), __jsx(\"div\", {\n      className: \"message-date-me\"\n    }, convertToHour(message.created))) : __jsx(\"div\", {\n      className: \"message-row-other\"\n    }, __jsx(\"div\", {\n      className: \"chat-profile-other\"\n    }, __jsx(\"i\", {\n      className: \"far fa-user\"\n    })), __jsx(\"div\", {\n      className: \"message-other-first-row\"\n    }, __jsx(\"div\", {\n      className: \"message-username-other\"\n    }, message.username), __jsx(\"div\", {\n      className: \"message-other-second-row\"\n    }, __jsx(\"div\", {\n      className: \"message-content-other\"\n    }, message.message), __jsx(\"div\", {\n      className: \"message-date-other\"\n    }, convertToHour(message.created))))));\n  }), __jsx(\"div\", {\n    ref: roomchatRef\n  }));\n}","map":null,"metadata":{},"sourceType":"module"}